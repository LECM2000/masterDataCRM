<header><app-first-menu></app-first-menu></header>
<div style="padding: 30px; background-image: url(https://overflow.pe/wp-content/uploads/2023/05/reparacion-de-computadoras-como-negocio.jpg); background-size: cover; background-position: center;"></div>
<div style="padding: 30px;">
</div>
<button class="btn btn-info btn-lg btn-block" (click)="addJob()" style="margin-left: 1cm; color: white;">Registro de nuevo equipo</button>


<body *ngIf="newJob">

  <div id="container"></div>
  <script id="template"></script>
  <div class="flip-card" (click)="toggleCard()">{{ isFlipped ? 'Reset' : 'Animate' }}</div>

  <div class="contact-wrapper" [class.active]="isFlipped">
    <div class="envelope">
      <div class="back paper"></div>
      <div class="content">
        <button class="btn btn-danger" (click)="closeAddJob()">X</button>
        <div class="form-wrapper">
          <form novalidate [formGroup]="jobs" (ngSubmit)="setJob()">
            <div class="top-wrapper">
              <div class="input">
                <style>
                  .input label,
                  .input input {
                    color: rgb(255, 255, 255);
                    text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.5);
                    /* cambio de color general y de estilo a todos los títulos */
                  }
                </style>
                <label style="color: rgb(255, 166, 0); text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.5); font-size: 25px;">Nombre</label>
                <input type="text" name="name" [value]="name" formControlName="name" />
              </div>
              <div class="input">
                <label style="font-size: 20px;">Número telefónico del cliente</label>
                <input type="text" name="phone" [value]="phone" formControlName="phone" />
              </div>
              <div class="input">
                <label style="font-size: 20px;">Correo del cliente</label>
                <input type="text" name="_replyto" [value]="email" formControlName="email" />
              </div>
            </div>
            <div class="bottom-wrapper">
              <!-- <div class="input">
                <label style="font-size: 20px; margin-top: 1cm;">Trabajo a realizar en el equipo</label>
                </div> -->
                <div style="margin-top: 0.5cm;">
                  <label for="subject">Trabajo a realizar en el equipo:</label>
                  <select id="subject" formControlName="subject" style="border-radius: 5px; padding: 5px; background-color: rgba(10, 99, 233, 0.308); box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.5);">
                    <option value="Diagnóstico del equipo">Diagnóstico del equipo</option>
                    <option value="Mantenimiento preventivo">Mantenimiento preventivo</option>
                    <option value="Optimizacion de equipo">Optimizacion de equipo</option>
                    <option value="Resintalacion de sistema">Resintalacion de sistema</option>
                  </select>
                </div>
                <div style="margin-top: 0.5cm;">
                  <label for="subject">Estado del trabajo:</label>
                  <select id="subject" formControlName="status" style="border-radius: 5px; padding: 5px; background-color: rgba(10, 99, 233, 0.308); box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.5);">
                    <option value="No iniciado">No iniciado</option>
                    <option value="En proceso">En proceso</option>
                    <option value="Terminado">Terminado</option>
                  </select>
                </div>
              <div class="input">
                <label style="font-size: 20px;">Características físicas del equipo</label>
                <textarea rows="5" name="message" [value]="message" formControlName="message"></textarea>
              </div>
              <div style="margin-top: 0.2cm;">
                <label for="imageInput" style="font-size: 20px;">Subir imágenes:</label>
                <input type="file" id="imageInput" name="images" accept="image/*" multiple (change)="handleImageChange($event)">
              </div>

              <!-- Visualización de imágenes cargadas -->
              

              <div class="submit" style="margin-top: 1cm;">
                <div class="submit-card" (click)="setJob()">Agregar</div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- home.component.html -->

  
</body>

<!-- home.component.html -->

<div *ngFor="let reporte of reportes" 
     class="elemento-lista" 
     [class.elemento-activo]="reporte === elementoActivo" 
     (click)="activarElemento(reporte); mostrarDetalles(reporte)">
  <h4>{{ reporte.subject }}</h4>
  <p>{{ reporte.name }}</p>
  <button class="btn btn-info btn-lg btn-block"  (click)="mostrarDetalles(reporte)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
    <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"/>
    <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"/>
  </svg></button>
  
  <button class="btn btn-info btn-lg btn-block" (click)="sendJob(reporte.id)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send" viewBox="0 0 16 16">
    <path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576zm6.787-8.201L1.591 6.602l4.339 2.76z"/>
  </svg></button>
  <button class="btn btn-info btn-lg btn-block" (click)="editReport(reporte, reporte.id)" ><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
    <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325"/>
  </svg></button>
</div>

<div id="detalles" [class.visible]="detallesVisible">
  <h2>Detalles del Reporte</h2>
  <div class="detalle-card">
    <p><strong>Nombre del cliente:</strong> {{ reporteSeleccionado?.name }}</p>
    <p><strong>Características:</strong> {{ reporteSeleccionado?.subject }}</p>
    <p><strong>Descripción:</strong> {{ reporteSeleccionado?.message }}</p>
    <p><strong>Teléfono:</strong> {{ reporteSeleccionado?.phone }}</p>
    <p><strong>Estado:</strong> {{ reporteSeleccionado?.status }}</p>

  <a href="{{reporteSeleccionado?.images}}"> <img style="height: 40px; width: 40px;"  src=".../../../../../assets/icons/image-picture-svgrepo-com.svg"/></a>
   <br>
    <!-- Agrega aquí cualquier otro detalle que desees mostrar -->
    <button class="btn btn-info btn-lg btn-block"  (click)="ocultarDetalles()">Ocultar Detalles</button>
  </div>
</div>


<!-- home.component.html -->

<body *ngIf="edit">
  <div id="container"></div>
  <script id="template"></script>

  <div class="flip-card" (click)="toggleCard()">
    {{ isFlipped ? 'Reset' : 'Animate' }}
  </div>

  <div class="contact-wrapper" [class.active]="isFlipped">
    <div class="envelope">
      <div class="back paper"></div>
      <div class="content">
        <button class="btn btn-danger close-btn" (click)="closeEdit()">X</button>
        <div class="form-wrapper">
          <form novalidate [formGroup]="editJob" (ngSubmit)="setEdit()">
            <div class="top-wrapper">
              <div class="form-group">
                <label for="subject">Estado del trabajo:</label>
                <select
                  id="subject"
                  formControlName="status"
                  class="form-control"
                >
                  <option value="No iniciado">No iniciado</option>
                  <option value="En proceso">En proceso</option>
                  <option value="Terminado">Terminado</option>
                </select>
              </div>

              <!-- Visualización de imágenes cargadas -->

              <button
                type="button"
                class="btn btn-info btn-lg btn-block"
                (click)="setEdit()"
              >
                Guardar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</body>
